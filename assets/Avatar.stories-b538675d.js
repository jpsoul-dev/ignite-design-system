import{a as L,j as u}from"./jsx-runtime-bc5d6cf6.js";import{_ as $}from"./extends-98964cd2.js";import{r as t}from"./index-c013ead5.js";import{$ as E,a as p,b as I,c as S}from"./index-6ce11b74.js";import{s as m}from"./stitches.config-fc327da9.js";import{U as k}from"./User.esm-6ed727b4.js";import"./_commonjsHelpers-725317a4.js";import"./index-169ee69c.js";import"./IconBase.esm-7eb740dd.js";const w="Avatar",[M,ee]=E(w),[R,C]=M(w),F=t.forwardRef((e,n)=>{const{__scopeAvatar:r,...a}=e,[o,s]=t.useState("idle");return t.createElement(R,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:s},t.createElement(p.span,$({},a,{ref:n})))}),N="AvatarImage",P=t.forwardRef((e,n)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...s}=e,d=C(N,r),c=V(a),i=I(b=>{o(b),d.onImageLoadingStatusChange(b)});return S(()=>{c!=="idle"&&i(c)},[c,i]),c==="loaded"?t.createElement(p.img,$({},s,{ref:n,src:a})):null}),j="AvatarFallback",T=t.forwardRef((e,n)=>{const{__scopeAvatar:r,delayMs:a,...o}=e,s=C(j,r),[d,c]=t.useState(a===void 0);return t.useEffect(()=>{if(a!==void 0){const i=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(i)}},[a]),d&&s.imageLoadingStatus!=="loaded"?t.createElement(p.span,$({},o,{ref:n})):null});function V(e){const[n,r]=t.useState("idle");return S(()=>{if(!e){r("error");return}let a=!0;const o=new window.Image,s=d=>()=>{a&&r(d)};return r("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=e,()=>{a=!1}},[e]),n}const q=F,U=P,W=T,B=m(q,{borderRadius:"$full",display:"inline-block",width:"$12",height:"$12",overflow:"hidden"}),D=m(U,{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"}),G=m(W,{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$gray600",color:"$gray800",svg:{width:"$6",height:"$6"}});function f(e){return L(B,{children:[u(D,{...e}),u(G,{delayMs:600,children:u(k,{})})]})}f.displayName="Avatar";try{f.displayName="Avatar",f.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},css:{defaultValue:null,description:"",name:"css",required:!1,type:{name:"CSS<{}, { colors: { white: string; black: string; gray100: string; gray200: string; gray400: string; gray500: string; gray600: string; gray700: string; gray800: string; gray900: string; ignite300: string; ignite500: string; ignite700: string; ignite900: string; }; ... 5 more ...; radii: { ...; }; }, { ...; }, {}>"}}}}}catch{}const ae={title:"Data display/Avatar",component:f,args:{src:"https://avatars.githubusercontent.com/u/134611445?v=4",alt:"avatar"}},g={},l={args:{src:void 0}};var v,h,A;g.parameters={...g.parameters,docs:{...(v=g.parameters)==null?void 0:v.docs,source:{originalSource:"{}",...(A=(h=g.parameters)==null?void 0:h.docs)==null?void 0:A.source}}};var _,y,x;l.parameters={...l.parameters,docs:{...(_=l.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    src: undefined
  }
}`,...(x=(y=l.parameters)==null?void 0:y.docs)==null?void 0:x.source}}};const te=["Primary","WithFallback"];export{g as Primary,l as WithFallback,te as __namedExportsOrder,ae as default};
//# sourceMappingURL=Avatar.stories-b538675d.js.map
